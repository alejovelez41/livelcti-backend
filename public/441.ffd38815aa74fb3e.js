"use strict";(self.webpackChunklive_lcti=self.webpackChunklive_lcti||[]).push([[441],{9441:(g,v,c)=>{c.r(v),c.d(v,{DossiersModule:()=>ue});var a=c(9808),d=c(6466),u=c(5706),e=c(4893),i=c(9010),_=c(2914),h=c(6470);function x(n,o){if(1&n&&(e.TgZ(0,"ul",10)(1,"li",11),e._UZ(2,"img",12),e._uU(3),e.TgZ(4,"div",13)(5,"span",14),e._uU(6),e.qZA()()()()),2&n){const t=o.$implicit;e.xp6(3),e.AsE(" ",t.nom," ",t.prenom," "),e.xp6(3),e.hij("Date de naissance : ",t.dt_naissance,"")}}let m=(()=>{class n{constructor(t,r,s,l){this.activeModal=t,this.controleService=r,this.entrepriseService=s,this.dataService=l,this.entreprises=[],this.individus=[],this.previewIndividus=[]}obtenirEntreprises(){console.log("ObtentionEntreprises Called"),this.entreprises=this.controleService.getEntreprises()}obtenirIndividus(){console.log("ObtentionIndividus Called"),this.individus=this.controleService.getIndividus()}filtrageIndividus(t){this.previewIndividus=[],this.individus.forEach(r=>{t.id_individus.includes(r.id)&&this.previewIndividus.push(r)})}revenir(){this.activeModal.close()}ngOnInit(){this.obtenirEntreprises(),this.obtenirIndividus(),this.entreprisePreview=this.controleService.getEntreprisePreview(),this.filtrageIndividus(this.entreprisePreview)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.Kz),e.Y36(i.G),e.Y36(_.H),e.Y36(h.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-consulter-individus"]],decls:13,vars:2,consts:[[1,"modal-header"],[1,"h2","my-1",2,"color","#1D458C"],["src","../assets/entreprise.png","alt","img associer","width","60","height","50"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"container"],[1,"row","p-4","mt-2","mb-2"],["class","list-group px-4",4,"ngFor","ngForOf"],[1,"d-grid"],["type","button",1,"btn","btn-primary","mt-3","mb-3",3,"click"],[1,"list-group","px-4"],[1,"list-group-item"],["src","../assets/id.svg","alt","","width","25","height","25","display","flex",1,"me-2"],[1,"row","ms-4"],[1,"text-muted"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"p",1),e._UZ(2,"img",2),e._uU(3),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return r.activeModal.close("Cross click")}),e.TgZ(5,"span",4),e._uU(6,"\xd7"),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6),e.YNc(9,x,7,3,"ul",7),e.qZA(),e.TgZ(10,"div",8)(11,"button",9),e.NdJ("click",function(){return r.revenir()}),e._uU(12," Revenir aux evenements "),e.qZA()()()),2&t&&(e.xp6(3),e.hij(" ",r.entreprisePreview.denomination,""),e.xp6(6),e.Q6J("ngForOf",r.previewIndividus))},directives:[a.sg],encapsulation:2}),n})();function b(n,o){if(1&n&&(e.TgZ(0,"div",18)(1,"div",19)(2,"h5",20),e._uU(3),e.qZA()()()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.hij(" ",t.nomControle," ")}}function C(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.entreprises_controle.length," entreprise archiv\xe9e")}}function Z(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.entreprises_controle.length," entreprises archiv\xe9es")}}const S=function(n){return["/entreprise/pdfControle",n]};function w(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw().$implicit,p=e.oxw();return p.setEntreprise(s),p.setControle(l)}),e.TgZ(1,"span"),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.Q6J("routerLink",e.VKq(2,S,t.id)),e.xp6(2),e.hij("R\xe9capitulatif ",t.denomination,"")}}function T(n,o){if(1&n&&(e.TgZ(0,"div",0),e.YNc(1,w,3,4,"button",21),e.qZA()),2&n){const t=o.$implicit,r=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",r.entreprises_controle.includes(t.id))}}function A(n,o){if(1&n&&(e.TgZ(0,"h6",23),e._UZ(1,"img",24),e._uU(2),e.ALo(3,"date"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",e.xi3(3,1,t.dt_controle,"dd-M-y")," ")}}function I(n,o){1&n&&(e.TgZ(0,"h6",23),e._UZ(1,"img",24),e._uU(2," Date du contr\xf4le "),e.qZA())}function E(n,o){if(1&n&&(e.TgZ(0,"h6",23),e._UZ(1,"img",25),e._uU(2),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.hr_controle," ")}}function y(n,o){1&n&&(e.TgZ(0,"h6",23),e._UZ(1,"img",25),e._uU(2," Heure du contr\xf4le "),e.qZA())}function k(n,o){if(1&n&&(e.TgZ(0,"h6",23),e._UZ(1,"img",26),e._uU(2),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.lieu_controle," ")}}function U(n,o){1&n&&(e.TgZ(0,"h6",23),e._UZ(1,"img",26),e._uU(2," Adresse du contr\xf4le "),e.qZA())}function F(n,o){if(1&n&&(e.TgZ(0,"div",3),e.YNc(1,b,4,1,"div",4),e.TgZ(2,"div",5)(3,"div",6)(4,"button",7),e.YNc(5,C,2,1,"span",8),e.YNc(6,Z,2,1,"span",8),e.qZA(),e.TgZ(7,"div",9),e.YNc(8,T,2,1,"div",10),e.qZA()(),e.TgZ(9,"div",11)(10,"div",12)(11,"div",13),e.YNc(12,A,4,4,"h6",14),e.YNc(13,I,3,0,"h6",14),e.qZA(),e.TgZ(14,"div",13),e.YNc(15,E,3,1,"h6",14),e.YNc(16,y,3,0,"h6",14),e.qZA(),e.TgZ(17,"div",15),e.YNc(18,k,3,1,"h6",14),e.YNc(19,U,3,0,"h6",14),e.qZA()()(),e.TgZ(20,"a",16),e._UZ(21,"img",17),e._uU(22,"T\xe9l\xe9charger"),e.qZA()()()),2&n){const t=o.$implicit,r=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.newControle&&"archive"==t.etat),e.xp6(4),e.Q6J("ngIf",1==t.entreprises_controle.length),e.xp6(1),e.Q6J("ngIf",1!=t.entreprises_controle.length),e.xp6(2),e.Q6J("ngForOf",r.entreprises),e.xp6(4),e.Q6J("ngIf",t.dt_controle),e.xp6(1),e.Q6J("ngIf",!t.dt_controle),e.xp6(2),e.Q6J("ngIf",t.hr_controle),e.xp6(1),e.Q6J("ngIf",!t.hr_controle),e.xp6(2),e.Q6J("ngIf",t.lieu_controle),e.xp6(1),e.Q6J("ngIf",!t.lieu_controle)}}let N=(()=>{class n{constructor(t,r,s,l){this.controleService=t,this.entrepriseService=r,this.modalService=s,this.dataService=l,this.entreprises=[],this.individus=[]}ouvrirModal(t){this.controleService.setEntreprisePreview(t);const s=this.modalService.open(m,{size:"lg"});console.log("resultado modal ref",s.result),s.result.then(l=>(console.log("data : ",l),l&&"Cross click"===l?void console.log("Obtained Data :",l):void 0))}setEntreprise(t){this.entrepriseService.setEntreprise(t)}setControle(t){this.controleService.setControle(t)}obtenirControles(){console.log("obtenirControles() called"),this.controleService.getControles().subscribe(t=>{this.controles=[],t.forEach(r=>{"archive"==r.etat&&this.controles.push(r)})}),this.controleService.setControles(this.controles),console.log(this.controles)}obtenirEntreprises(){console.log("ObtentionEntreprises Called"),this.entrepriseService.getEntreprises().subscribe(t=>{this.entrepriseService.setSocietes(t),this.entreprises=t,this.controleService.setEntreprises(this.entreprises)})}obtenirIndividus(){console.log("ObtentionIndividus Called"),this.dataService.getIndividus().subscribe(t=>{this.individus=t,this.controleService.setIndividus(this.individus)})}ngOnInit(){this.obtenirControles(),this.obtenirEntreprises(),this.obtenirIndividus()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.G),e.Y36(_.H),e.Y36(u.FF),e.Y36(h.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-archives"]],decls:3,vars:1,consts:[[1,"div"],[1,"row"],["class","card mb-2 ms-2 p-0 ","style","width: 16rem;",4,"ngFor","ngForOf"],[1,"card","mb-2","ms-2","p-0",2,"width","16rem"],["class","card-header p-2 text-center","style","background-color: #ffdde1; color:#1B7279",4,"ngIf"],[1,"card-body","d-flex","flex-column","px-2"],["ngbDropdown","",1,"d-inline-block","w-100","py-2"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-light",2,"background-color","#E0FDFF","border-color","#20BFC8"],[4,"ngIf"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["class","div",4,"ngFor","ngForOf"],[1,"card","border-info","my-2","mx-0","p-0"],[1,"card-body","px-3"],[1,"d-flex","flex-row","mb-4"],["class","card-title mb-2",4,"ngIf"],[1,"d-flex","flex-row","mb-2"],[1,"btn","btn-info","mt-auto"],["src","../assets/pdf.svg","alt","","width","20","height","20","display","flex",1,"me-1"],[1,"card-header","p-2","text-center",2,"background-color","#ffdde1","color","#1B7279"],[1,"d-flex","justify-content-center","align-items-center"],[1,"card-title","mt-2"],["ngbDropdownItem","",3,"routerLink","click",4,"ngIf"],["ngbDropdownItem","",3,"routerLink","click"],[1,"card-title","mb-2"],["src","../assets/calendrier.svg","alt","","width","30","height","25","display","flex",1,""],["src","../assets/heure.svg","alt","","width","30","height","25","display","flex",1,""],["src","../assets/location.svg","alt","","width","30","height","25","display","flex",1,""]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,F,23,10,"div",2),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngForOf",r.controles))},directives:[a.sg,a.O5,u.jt,u.iD,u.Vi,u.TH,d.rH],pipes:[a.uU],encapsulation:2}),n})();function j(n,o){if(1&n&&(e.TgZ(0,"div",18)(1,"div",11)(2,"p",12),e._uU(3),e.qZA()()()),2&n){const t=e.oxw();e.xp6(3),e.hij(" Attention, vous allez archiver l'\xe9v\xe8nement \"Contr\xf4le ",t.controle.id,'". Vous ne pourrez plus modifier votre saisie. ')}}function q(n,o){if(1&n&&(e.TgZ(0,"div",19)(1,"div",11)(2,"p",12),e._uU(3),e.qZA()()()),2&n){const t=e.oxw();e.xp6(3),e.hij(" Attention, vous allez archiver l'\xe9v\xe8nement \"Contr\xf4le ",t.controle.id,'". Vous ne pourrez plus modifier votre saisie. ')}}let J=(()=>{class n{constructor(t,r,s){this.activeModal=t,this.controleService=r,this.router=s}arhiverEvent(){this.activeModal.close("archiverEvent"),this.router.navigate(["dossiers/archives"])}ngOnInit(){this.controle=this.controleService.getControle()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.Kz),e.Y36(i.G),e.Y36(d.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-archivage-event"]],decls:24,vars:2,consts:[[1,"container-fluid","px-0","pb-0",2,"background-color","#FFF4D2"],[1,"modal-header","d-flex","justify-content-end"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"d-flex","flex-column"],[1,"d-flex","flex-row","justify-content-center"],[1,"d-flex","my-3"],["src","../assets/alert.svg","alt","","width","60","height","60","display","flex"],["class","d-flex flex-row justify-content-center mt-2 mx-4",4,"ngIf"],["class","d-flex flex-row justify-content-center mt-2 mx-2",4,"ngIf"],[1,"d-flex","flex-row","justify-content-center","my-4"],[1,"d-flex"],[1,"h4","mb-3",2,"color","black","text-align","center"],[1,"d-flex","p-4"],[1,"col"],[1,"d-grid","mx-2"],["type","button",1,"btn","btn-outline-info",2,"background","white",3,"click"],["type","button",1,"btn","btn-info",3,"click"],[1,"d-flex","flex-row","justify-content-center","mt-2","mx-4"],[1,"d-flex","flex-row","justify-content-center","mt-2","mx-2"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return r.activeModal.dismiss("Cross click")}),e.TgZ(3,"span",3),e._uU(4,"\xd7"),e.qZA()()(),e.TgZ(5,"div",4)(6,"div",5)(7,"div",6),e._UZ(8,"img",7),e.qZA()(),e.YNc(9,j,4,1,"div",8),e.YNc(10,q,4,1,"div",9),e.TgZ(11,"div",10)(12,"div",11)(13,"p",12),e._uU(14," Voulez-vous vraiment continuer ? "),e.qZA()()()(),e.TgZ(15,"div",13)(16,"div",14)(17,"div",15)(18,"button",16),e.NdJ("click",function(){return r.activeModal.dismiss("Cross click")}),e._uU(19," Non, annuler"),e.qZA()()(),e.TgZ(20,"div",14)(21,"div",15)(22,"button",17),e.NdJ("click",function(){return r.arhiverEvent()}),e._uU(23," Oui, continuer"),e.qZA()()()()()),2&t&&(e.xp6(9),e.Q6J("ngIf",r.controle.id),e.xp6(1),e.Q6J("ngIf",!r.controle.id))},directives:[a.O5],encapsulation:2}),n})(),Y=(()=>{class n{constructor(t){this.activeModal=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.Kz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-supression-controle"]],decls:26,vars:0,consts:[[1,"container-fluid","px-0","pb-0",2,"background-color","#FFF4D2"],[1,"modal-header","d-flex","justify-content-end"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"d-flex","flex-column"],[1,"d-flex","flex-row","justify-content-center"],[1,"d-flex","my-3"],["src","../assets/alert.svg","alt","","width","60","height","60","display","flex"],[1,"d-flex","flex-row","justify-content-center","mt-2"],[1,"d-flex"],[1,"h4","mb-3",2,"color","black","text-align","center"],[1,"d-flex","flex-row","justify-content-center","my-4"],[1,"d-flex","p-4"],[1,"col"],[1,"d-grid","mx-2"],["type","button",1,"btn","btn-outline-info",2,"background","white",3,"click"],["type","button",1,"btn","btn-info",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return r.activeModal.dismiss("Cross click")}),e.TgZ(3,"span",3),e._uU(4,"\xd7"),e.qZA()()(),e.TgZ(5,"div",4)(6,"div",5)(7,"div",6),e._UZ(8,"img",7),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9)(11,"p",10),e._uU(12," Attention, vous allez supprimer l'\xe9v\xe8nement de fa\xe7on permanente. "),e.qZA()()(),e.TgZ(13,"div",11)(14,"div",9)(15,"p",10),e._uU(16," Voulez-vous vraiment continuer ? "),e.qZA()()()(),e.TgZ(17,"div",12)(18,"div",13)(19,"div",14)(20,"button",15),e.NdJ("click",function(){return r.activeModal.close("non")}),e._uU(21," Non, annuler"),e.qZA()()(),e.TgZ(22,"div",13)(23,"div",14)(24,"button",16),e.NdJ("click",function(){return r.activeModal.close("oui")}),e._uU(25," Oui, continuer"),e.qZA()()()()())},encapsulation:2}),n})();var D=c(520);let M=(()=>{class n{constructor(t){this.http=t,this.noteDefault=[],this.controle={id:"",nomControle:"",newControle:!0,etat:"",dt_controle:"",hr_controle:"",lieu_controle:"",inspecteurs_controle:[],partenaires_controle:[],autre_partenaire:"",entreprises_controle:[],individus_controle:[],notesCont:this.noteDefault}}getControles(){return this.http.get("http://localhost:3000/controles")}getControleById(t){return this.http.get(`http://localhost:3000/controles/${t}`)}ajouterControle(t){return this.http.post("http://localhost:3000/controles",t)}editerControle(t){return console.log("EDITION EN COURS"),console.log(t),console.log(`http://localhost:3000/controles/${t.id}`),this.http.put(`http://localhost:3000/controles/${t.id}`,t)}effacerControle(t){return this.http.delete(`http://localhost:3000/controles/${t}`)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(D.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function O(n,o){1&n&&(e.TgZ(0,"div",24)(1,"div",25)(2,"h5",26),e._uU(3," Pas renseign\xe9 "),e.qZA()()())}function $(n,o){if(1&n&&(e.TgZ(0,"div",27)(1,"div",25)(2,"h5",26),e._uU(3),e.qZA()()()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.hij(" ",t.nomControle," ")}}function Q(n,o){if(1&n&&(e.TgZ(0,"div",28)(1,"div",25)(2,"h5",26),e._uU(3),e.qZA()()()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.hij(" Contr\xf4le ",t.nomControle," ")}}function z(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).ouvrirModal(s)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.denomination," ")}}function B(n,o){if(1&n&&(e.TgZ(0,"div",0),e.YNc(1,z,2,1,"button",29),e.qZA()),2&n){const t=o.$implicit,r=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",r.entreprises_controle.includes(t.id))}}function H(n,o){if(1&n&&(e.TgZ(0,"h6",31),e._UZ(1,"img",32),e._uU(2),e.ALo(3,"date"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",e.xi3(3,1,t.dt_controle,"dd-M-y")," ")}}function P(n,o){1&n&&(e.TgZ(0,"h6",31),e._UZ(1,"img",32),e._uU(2," Date du contr\xf4le "),e.qZA())}function L(n,o){if(1&n&&(e.TgZ(0,"h6",31),e._UZ(1,"img",33),e._uU(2),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.hr_controle," ")}}function R(n,o){1&n&&(e.TgZ(0,"h6",31),e._UZ(1,"img",33),e._uU(2," Heure du contr\xf4le "),e.qZA())}function V(n,o){if(1&n&&(e.TgZ(0,"h6",31),e._UZ(1,"img",34),e._uU(2),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.lieu_controle," ")}}function K(n,o){1&n&&(e.TgZ(0,"h6",31),e._UZ(1,"img",34),e._uU(2," Adresse du contr\xf4le "),e.qZA())}const X=function(n){return["/parametres/edition",n]};function G(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",35)(1,"div",36)(2,"a",37),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().modaleSupression(s.id)}),e._uU(3,"Supprimer"),e.qZA(),e.TgZ(4,"a",38),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().modifierControle(s)}),e._uU(5,"D\xe9marrer >"),e.qZA()()()}if(2&n){const t=e.oxw().$implicit;e.xp6(4),e.Q6J("routerLink",e.VKq(1,X,t.id))}}const f=function(n){return["/controle/individus",n]};function W(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",35)(1,"div",36)(2,"a",37),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().modaleSupression(s.id)}),e._uU(3,"Supprimer"),e.qZA(),e.TgZ(4,"a",38),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().modifierControle(s)}),e._uU(5,"Continuer >"),e.qZA()()()}if(2&n){const t=e.oxw().$implicit;e.xp6(4),e.Q6J("routerLink",e.VKq(1,f,t.id))}}function ee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",35)(1,"div",36)(2,"a",39),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().modaleArchivage(s)}),e._UZ(3,"img",40),e._uU(4," Archiver"),e.qZA(),e.TgZ(5,"a",38),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().modifierControle(s)}),e._uU(6,"Continuer >"),e.qZA()()()}if(2&n){const t=e.oxw().$implicit;e.xp6(5),e.Q6J("routerLink",e.VKq(1,f,t.id))}}function te(n,o){if(1&n&&(e.TgZ(0,"div",9),e.YNc(1,O,4,0,"div",10),e.YNc(2,$,4,1,"div",11),e.YNc(3,Q,4,1,"div",12),e.TgZ(4,"div",13)(5,"div",14)(6,"button",15),e._uU(7),e.qZA(),e.TgZ(8,"div",16),e.YNc(9,B,2,1,"div",17),e.qZA()(),e.TgZ(10,"div",18)(11,"div",19)(12,"div",20),e.YNc(13,H,4,4,"h6",21),e.YNc(14,P,3,0,"h6",21),e.qZA(),e.TgZ(15,"div",20),e.YNc(16,L,3,1,"h6",21),e.YNc(17,R,3,0,"h6",21),e.qZA(),e.TgZ(18,"div",22),e.YNc(19,V,3,1,"h6",21),e.YNc(20,K,3,0,"h6",21),e.qZA()()(),e.YNc(21,G,6,3,"div",23),e.YNc(22,W,6,3,"div",23),e.YNc(23,ee,7,3,"div",23),e.qZA()()),2&n){const t=o.$implicit,r=e.oxw();e.xp6(1),e.Q6J("ngIf",t.newControle),e.xp6(1),e.Q6J("ngIf",!t.newControle&&"created"==t.etat),e.xp6(1),e.Q6J("ngIf",!t.newControle&&"complete"==t.etat),e.xp6(4),e.hij("",t.entreprises_controle.length," entreprises contr\xf4l\xe9es"),e.xp6(2),e.Q6J("ngForOf",r.entreprises),e.xp6(4),e.Q6J("ngIf",t.dt_controle),e.xp6(1),e.Q6J("ngIf",!t.dt_controle),e.xp6(2),e.Q6J("ngIf",t.hr_controle),e.xp6(1),e.Q6J("ngIf",!t.hr_controle),e.xp6(2),e.Q6J("ngIf",t.lieu_controle),e.xp6(1),e.Q6J("ngIf",!t.lieu_controle),e.xp6(1),e.Q6J("ngIf",t.newControle),e.xp6(1),e.Q6J("ngIf",!t.newControle&&"created"==t.etat),e.xp6(1),e.Q6J("ngIf",!t.newControle&&"complete"==t.etat)}}let ie=(()=>{class n{constructor(t,r,s,l,p){this.apiService=t,this.controleService=r,this.entrepriseService=s,this.modalService=l,this.dataService=p,this.entreprises=[],this.individus=[]}obtenirControles(){console.log("obtenirControles() called"),this.controleService.getControles().subscribe(t=>{this.controles=[],t.forEach(r=>{"archive"!=r.etat&&this.controles.push(r)})}),this.controleService.setControles(this.controles),console.log(this.controles)}obtenirEntreprises(){console.log("ObtentionEntreprises Called"),this.entrepriseService.getEntreprises().subscribe(t=>{this.entrepriseService.setSocietes(t),this.entreprises=t,this.entrepriseService.setSocietes(t),this.controleService.setEntreprises(this.entreprises)})}obtenirIndividus(){console.log("ObtentionIndividus Called"),this.dataService.getIndividus().subscribe(t=>{this.individus=t,this.controleService.setIndividus(this.individus)})}ajouterControle(){this.controleService.ajouterControle(this.controleService.getNewControle()).subscribe(t=>{console.log("Creation dun nouvelle contr\xf4le",t),this.obtenirControles()})}modifierControle(t){console.log("controle de la liste",t),this.controleService.setControle(t),console.log("Routage vers le controle"),this.controleService.getControleById(t.id).subscribe(r=>{console.log("reponse",r),this.controleService.setControle(r)})}modaleArchivage(t){this.controleService.setControle(t),this.modalService.open(J,{size:"lg"}).result.then(s=>{console.log(s),"archiverEvent"===s&&(t.etat="archive",this.controleService.editerControle(t).subscribe(l=>{console.log("controle \xe0 archiver",l),this.controleService.setControle(l)})),this.obtenirControles()})}modaleSupression(t){this.modalService.open(Y,{size:"lg"}).result.then(s=>{console.log(s),"oui"===s&&(this.controleService.effacerControle(t).subscribe(),console.log("deletion sucess")),this.obtenirControles()})}ouvrirModal(t){this.controleService.setEntreprisePreview(t);const s=this.modalService.open(m,{size:"lg"});console.log("resultado modal ref",s.result),s.result.then(l=>(console.log("data : ",l),l&&"Cross click"===l?void console.log("Obtained Data :",l):void 0))}archiverEvent(){}synchroData(t){}ngOnInit(){this.obtenirControles(),this.obtenirEntreprises(),this.obtenirIndividus()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(M),e.Y36(i.G),e.Y36(_.H),e.Y36(u.FF),e.Y36(h.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-en-cours"]],decls:13,vars:1,consts:[[1,"div"],[1,"row"],[1,"card","border-info","mb-2","ms-2",2,"width","16rem"],[1,"card-body","d-flex","flex-column","px-0"],[1,"d-flex","justify-content-center","p-2","mb-3"],["src","../assets/ajouterEvent.svg","alt","img associer","width","180","height","180"],[1,"card-text","mb-3",2,"color","#0D5A5E","text-align","center"],[1,"btn","btn-info","mt-auto",3,"click"],["class","card mb-2 ms-2 p-0 ","style","width: 16rem;",4,"ngFor","ngForOf"],[1,"card","mb-2","ms-2","p-0",2,"width","16rem"],["class","card-header p-2 text-center","style","background-color:white ; color:#1B7279 ;",4,"ngIf"],["class","card-header p-2 text-center","style","background-color: #7AEEF4; color:#1B7279",4,"ngIf"],["class","card-header p-2 text-center","style","background-color: #008088; color: white",4,"ngIf"],[1,"card-body","d-flex","flex-column","px-2"],["ngbDropdown","",1,"d-inline-block","w-100","py-2"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-light",2,"background-color","#E0FDFF","border-color","#20BFC8"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["class","div",4,"ngFor","ngForOf"],[1,"card","border-info","my-2","mx-0","p-0"],[1,"card-body","px-3"],[1,"d-flex","flex-row","mb-4"],["class","card-title mb-2",4,"ngIf"],[1,"d-flex","flex-row","mb-2"],["class","row mt-auto",4,"ngIf"],[1,"card-header","p-2","text-center",2,"background-color","white","color","#1B7279"],[1,"d-flex","justify-content-center","align-items-center"],[1,"card-title","mt-2"],[1,"card-header","p-2","text-center",2,"background-color","#7AEEF4","color","#1B7279"],[1,"card-header","p-2","text-center",2,"background-color","#008088","color","white"],["ngbDropdownItem","",3,"click",4,"ngIf"],["ngbDropdownItem","",3,"click"],[1,"card-title","mb-2"],["src","../assets/calendrier.svg","alt","","width","30","height","25","display","flex",1,""],["src","../assets/heure.svg","alt","","width","30","height","25","display","flex",1,""],["src","../assets/location.svg","alt","","width","30","height","25","display","flex",1,""],[1,"row","mt-auto"],[1,"d-flex","flex-row"],[1,"btn","btn-outline-danger","mx-auto",3,"click"],[1,"btn","btn-info","mx-auto",3,"routerLink","click"],[1,"btn","btn-info","mx-auto",3,"click"],["src","../assets/bravo_black.svg","alt","","width","20","height","20","display","flex",1,""]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._UZ(5,"img",5),e.qZA(),e.TgZ(6,"p",6),e._uU(7,"Ajoutez autant d'\xe9v\xe8nements que n\xe9cessaire. "),e._UZ(8,"br"),e._uU(9,"Vous pourrez contr\xf4ler plusieurs entreprises et/ou individus, par \xe9v\xe8nements "),e.qZA(),e.TgZ(10,"a",7),e.NdJ("click",function(){return r.ajouterControle()}),e._uU(11,"Ajouter \xe9v\xe8nements"),e.qZA()()(),e.YNc(12,te,24,14,"div",8),e.qZA()()),2&t&&(e.xp6(12),e.Q6J("ngForOf",r.controles))},directives:[a.sg,a.O5,u.jt,u.iD,u.Vi,u.TH,d.yS],pipes:[a.uU],encapsulation:2}),n})();var ne=c(6166);const re=function(n){return[n]};function oe(n,o){if(1&n&&(e.TgZ(0,"li",3),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("routerLink",e.VKq(2,re,t.route)),e.xp6(1),e.hij(" ",t.texte," ")}}const se=[{path:"",component:(()=>{class n{constructor(t){this.statutIndividu=t,this.consentementIndividu=!1,this.refusIndividu=!1,this.blockNavigation=!0,this.formulaireMenu=[{texte:"En cours",route:"./en-cours"},{texte:"Archiv\xe9s",route:"./archives"}]}get navigation(){return this.statutIndividu.blocknav}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ne.A))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-nav-dossiers"]],decls:5,vars:1,consts:[[1,"text-center"],[1,"list-group","list-group-horizontal","mb-3"],["class","list-group-item flex-fill","routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"list-group-item","flex-fill",3,"routerLink"]],template:function(t,r){1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Contr\xf4les"),e.qZA(),e.TgZ(2,"ul",1),e.YNc(3,oe,2,4,"li",2),e.qZA(),e._UZ(4,"router-outlet")),2&t&&(e.xp6(3),e.Q6J("ngForOf",r.formulaireMenu))},directives:[a.sg,d.Od,d.rH,d.lC],styles:["li[_ngcontent-%COMP%]{cursor:pointer}"]}),n})(),children:[{path:"en-cours",component:ie},{path:"archives",component:N},{path:"**",redirectTo:"en-cours"}]}];let le=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.Bz.forChild(se)],d.Bz]}),n})(),ue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[a.ez,le,d.Bz,u.IJ]]}),n})()},6166:(g,v,c)=>{c.d(v,{A:()=>d});var a=c(4893);let d=(()=>{class u{constructor(){this.blockNav=!0,this.minInfo=!1,this.consentementInd=!0,this.clotureInd=!1,this.refusInd=!1,this.signatureEnvoye=!1,this.statutIndividu="salarie",this.precedent="",this.idIndividu="",this.dataIndividu=[{titre:"description",valeur:""},{titre:"refus",valeur:""},{titre:"nom",valeur:""},{titre:"prenom",valeur:""},{titre:"signature",valeur:""},{titre:"consentement",valeur:""},{titre:"statut",valeur:""},{titre:"fonction",valeur:""},{titre:"nir",valeur:""},{titre:"siret",valeur:""},{titre:"siren",valeur:""},{titre:"civilite",valeur:""},{titre:"typePI",valeur:""},{titre:"numeroPI",valeur:""},{titre:"dt_naissance",valeur:""},{titre:"lieu_naissance",valeur:""},{titre:"nationalite_fr",valeur:""},{titre:"pays_naissance",valeur:""},{titre:"tel",valeur:""},{titre:"n_voie",valeur:""},{titre:"bis",valeur:""},{titre:"libelle",valeur:""},{titre:"complement",valeur:""},{titre:"cp",valeur:""},{titre:"ville",valeur:""},{titre:"dt_creation",valeur:""},{titre:"type_statut",valeur:""},{titre:"emploi",valeur:""},{titre:"contrat",valeur:""},{titre:"dt_embauche",valeur:""},{titre:"duree",valeur:""},{titre:"cadre",valeur:""},{titre:"sbrut",valeur:""},{titre:"fsalaire",valeur:""},{titre:"montant",valeur:""},{titre:"remunere",valeur:""},{titre:"ca",valeur:""},{titre:"rmensuelle",valeur:""},{titre:"snombre",valeur:""},{titre:"total",valeur:""},{titre:"identites",valeur:""},{titre:"soustraitant",valeur:""},{titre:"identite_do",valeur:""},{titre:"s_partie_activite",valeur:""},{titre:"id_soustraitants",valeur:""},{titre:"h_lun",valeur:!0},{titre:"h_mar",valeur:!0},{titre:"h_mer",valeur:!0},{titre:"h_jeu",valeur:!0},{titre:"h_ven",valeur:!0},{titre:"h_sam",valeur:""},{titre:"h_dim",valeur:""},{titre:"deb_lun",valeur:""},{titre:"deb_mar",valeur:""},{titre:"deb_mer",valeur:""},{titre:"deb_jeu",valeur:""},{titre:"deb_ven",valeur:""},{titre:"deb_sam",valeur:""},{titre:"deb_dim",valeur:""},{titre:"fin_lun",valeur:""},{titre:"fin_mar",valeur:""},{titre:"fin_mer",valeur:""},{titre:"fin_jeu",valeur:""},{titre:"fin_ven",valeur:""},{titre:"fin_sam",valeur:""},{titre:"fin_dim",valeur:""},{titre:"paus_lun",valeur:""},{titre:"paus_mar",valeur:""},{titre:"paus_mer",valeur:""},{titre:"paus_jeu",valeur:""},{titre:"paus_ven",valeur:""},{titre:"paus_sam",valeur:""},{titre:"paus_dim",valeur:""},{titre:"tot_lun",valeur:""},{titre:"tot_mar",valeur:""},{titre:"tot_mer",valeur:""},{titre:"tot_jeu",valeur:""},{titre:"tot_ven",valeur:""},{titre:"tot_sam",valeur:""},{titre:"tot_dim",valeur:""},{titre:"hSup_lun",valeur:""},{titre:"hSup_mar",valeur:""},{titre:"hSup_mer",valeur:""},{titre:"hSup_jeu",valeur:""},{titre:"hSup_ven",valeur:""},{titre:"hSup_sam",valeur:""},{titre:"hSup_dim",valeur:""},{titre:"debSup_lun",valeur:""},{titre:"debSup_mar",valeur:""},{titre:"debSup_mer",valeur:""},{titre:"debSup_jeu",valeur:""},{titre:"debSup_ven",valeur:""},{titre:"debSup_sam",valeur:""},{titre:"debSup_dim",valeur:""},{titre:"finSup_lun",valeur:""},{titre:"finSup_mar",valeur:""},{titre:"finSup_mer",valeur:""},{titre:"finSup_jeu",valeur:""},{titre:"finSup_ven",valeur:""},{titre:"finSup_sam",valeur:""},{titre:"finSup_dim",valeur:""},{titre:"pausSup_lun",valeur:""},{titre:"pausSup_mar",valeur:""},{titre:"pausSup_mer",valeur:""},{titre:"pausSup_jeu",valeur:""},{titre:"pausSup_ven",valeur:""},{titre:"pausSup_sam",valeur:""},{titre:"pausSup_dim",valeur:""},{titre:"totSup_lun",valeur:""},{titre:"totSup_mar",valeur:""},{titre:"totSup_mer",valeur:""},{titre:"totSup_jeu",valeur:""},{titre:"totSup_ven",valeur:""},{titre:"totSup_sam",valeur:""},{titre:"totSup_dim",valeur:""},{titre:"id",valeur:""},{titre:"idEnt",valeur:""},{titre:"denominationEnt",valeur:""},{titre:"siren_fiche",valeur:""},{titre:"adresse_siege",valeur:""},{titre:"denominationI",valeur:""},{titre:"adresse_siegeI",valeur:""},{titre:"timeIndividu",valeur:""}]}get idindividu(){return this.idIndividu}set newidindividu(i){this.idIndividu=i}get blocknav(){return this.blockNav}set newblocknav(i){this.blockNav=i}get mininfo(){return this.minInfo}set newmininfo(i){this.minInfo=i}get statutind(){return this.statutIndividu}set newStatut(i){this.statutIndividu=i}get precedentind(){return this.precedent}set newPrecedent(i){this.precedent=i}get consentementind(){return this.consentementInd}set newconsentement(i){this.consentementInd=i}get clotureind(){return this.clotureInd}set newcloture(i){this.clotureInd=i}get refusind(){return this.refusInd}set newrefusind(i){this.refusInd=i}get signatureind(){return this.signatureEnvoye}set newsignatureind(i){this.signatureEnvoye=i}get dataind(){return this.dataIndividu}set newData(i){this.dataIndividu=i}synchro(i){this.newidindividu=i.id,console.log("id individu..."),console.log(i.id),this.dataind[0].valeur=i.description,this.dataind[1].valeur=i.refus,this.dataind[2].valeur=i.nom,this.dataind[3].valeur=i.prenom,this.dataind[4].valeur=i.signature,this.dataind[5].valeur=i.consentement,this.dataind[6].valeur=i.statut,this.dataind[7].valeur=i.fonction,this.dataind[8].valeur=i.nir,this.dataind[9].valeur=i.siret,this.dataind[10].valeur=i.siren,this.dataind[11].valeur=i.civilite,this.dataind[12].valeur=i.typePI,this.dataind[13].valeur=i.numeroPI,this.dataind[14].valeur=i.dt_naissance,this.dataind[15].valeur=i.lieu_naissance,this.dataind[16].valeur=i.nationalite_fr,this.dataind[17].valeur=i.pays_naissance,this.dataind[18].valeur=i.tel,this.dataind[19].valeur=i.n_voie,this.dataind[20].valeur=i.bis,this.dataind[21].valeur=i.libelle,this.dataind[22].valeur=i.complement,this.dataind[23].valeur=i.cp,this.dataind[24].valeur=i.ville,this.dataind[25].valeur=i.dt_creation,this.dataind[26].valeur=i.type_statut,this.dataind[27].valeur=i.emploi,this.dataind[28].valeur=i.contrat,this.dataind[29].valeur=i.dt_embauche,this.dataind[30].valeur=i.duree,this.dataind[31].valeur=i.cadre,this.dataind[32].valeur=i.sbrut,this.dataind[33].valeur=i.fsalaire,this.dataind[34].valeur=i.montant,this.dataind[35].valeur=i.remunere,this.dataind[36].valeur=i.ca,this.dataind[37].valeur=i.rmensuelle,this.dataind[38].valeur=i.snombre,this.dataind[39].valeur=i.total,this.dataind[40].valeur=i.identites,this.dataind[41].valeur=i.soustraitant,this.dataind[42].valeur=i.identite_do,this.dataind[43].valeur=i.s_partie_activite,this.dataind[44].valeur=i.id_soustraitants,this.dataind[45].valeur=i.h_lun,this.dataind[46].valeur=i.h_mar,this.dataind[47].valeur=i.h_mer,this.dataind[48].valeur=i.h_jeu,this.dataind[49].valeur=i.h_ven,this.dataind[50].valeur=i.h_sam,this.dataind[51].valeur=i.h_dim,this.dataind[52].valeur=i.deb_lun,this.dataind[53].valeur=i.deb_mar,this.dataind[54].valeur=i.deb_mer,this.dataind[55].valeur=i.deb_jeu,this.dataind[56].valeur=i.deb_ven,this.dataind[57].valeur=i.deb_sam,this.dataind[58].valeur=i.deb_dim,this.dataind[59].valeur=i.fin_lun,this.dataind[60].valeur=i.fin_mar,this.dataind[61].valeur=i.fin_mer,this.dataind[62].valeur=i.fin_jeu,this.dataind[63].valeur=i.fin_ven,this.dataind[64].valeur=i.fin_sam,this.dataind[65].valeur=i.fin_dim,this.dataind[66].valeur=i.paus_lun,this.dataind[67].valeur=i.paus_mar,this.dataind[68].valeur=i.paus_mer,this.dataind[69].valeur=i.paus_jeu,this.dataind[70].valeur=i.paus_ven,this.dataind[71].valeur=i.paus_sam,this.dataind[72].valeur=i.paus_dim,this.dataind[73].valeur=i.tot_lun,this.dataind[74].valeur=i.tot_mar,this.dataind[75].valeur=i.tot_mer,this.dataind[76].valeur=i.tot_jeu,this.dataind[77].valeur=i.tot_ven,this.dataind[78].valeur=i.tot_sam,this.dataind[79].valeur=i.tot_dim,this.dataind[80].valeur=i.hSup_lun,this.dataind[81].valeur=i.hSup_mar,this.dataind[82].valeur=i.hSup_mer,this.dataind[83].valeur=i.hSup_jeu,this.dataind[84].valeur=i.hSup_ven,this.dataind[85].valeur=i.hSup_sam,this.dataind[86].valeur=i.hSup_dim,this.dataind[87].valeur=i.debSup_lun,this.dataind[88].valeur=i.debSup_mar,this.dataind[89].valeur=i.debSup_mer,this.dataind[90].valeur=i.debSup_jeu,this.dataind[91].valeur=i.debSup_ven,this.dataind[92].valeur=i.debSup_sam,this.dataind[93].valeur=i.debSup_dim,this.dataind[94].valeur=i.finSup_lun,this.dataind[95].valeur=i.finSup_mar,this.dataind[96].valeur=i.finSup_mer,this.dataind[97].valeur=i.finSup_jeu,this.dataind[98].valeur=i.finSup_ven,this.dataind[99].valeur=i.finSup_sam,this.dataind[100].valeur=i.finSup_dim,this.dataind[101].valeur=i.pausSup_lun,this.dataind[102].valeur=i.pausSup_mar,this.dataind[103].valeur=i.pausSup_mer,this.dataind[104].valeur=i.pausSup_jeu,this.dataind[105].valeur=i.pausSup_ven,this.dataind[106].valeur=i.pausSup_sam,this.dataind[107].valeur=i.pausSup_dim,this.dataind[108].valeur=i.totSup_lun,this.dataind[109].valeur=i.totSup_mar,this.dataind[110].valeur=i.totSup_mer,this.dataind[111].valeur=i.totSup_jeu,this.dataind[112].valeur=i.totSup_ven,this.dataind[113].valeur=i.totSup_sam,this.dataind[114].valeur=i.totSup_dim,this.dataind[115].valeur=i.id,this.dataind[116].valeur=i.idEnt,this.dataind[117].valeur=i.denominationEnt,this.dataind[118].valeur=i.siren_fiche,this.dataind[119].valeur=i.adresse_siege,this.dataind[120].valeur=i.denominationI,this.dataind[121].valeur=i.adresse_siegeI,this.consentementInd=this.dataind[5].valeur,this.signatureEnvoye=this.dataind[5].valeur,this.blockNav=!this.dataind[5].valeur,console.log("result"),console.log(this.dataind[115].valeur)}}return u.\u0275fac=function(i){return new(i||u)},u.\u0275prov=a.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()}}]);
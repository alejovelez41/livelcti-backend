"use strict";(self.webpackChunklive_lcti=self.webpackChunklive_lcti||[]).push([[734],{5734:(w,v,a)=>{a.r(v),a.d(v,{OutilsModule:()=>j});var h=a(9808),m=a(6466),e=a(1223),g=a(6470);function N(n,l){1&n&&(e.TgZ(0,"div",7)(1,"div",8)(2,"p",9),e._uU(3,"Il n'a pas d'informations \xe0 afficher actuellement"),e.qZA()()())}function b(n,l){if(1&n&&(e.TgZ(0,"div",7)(1,"div",10)(2,"div",8)(3,"p",4),e._uU(4,"Informations REI :"),e.qZA()(),e.TgZ(5,"div",10)(6,"ul",11)(7,"li",12),e._uU(8),e.qZA(),e.TgZ(9,"li",12),e._uU(10),e.qZA(),e.TgZ(11,"li",12),e._uU(12),e.qZA(),e.TgZ(13,"li",12),e._uU(14),e.qZA(),e.TgZ(15,"li",12),e._uU(16),e.qZA(),e.TgZ(17,"li",12),e._uU(18),e.qZA(),e.TgZ(19,"li",12),e._uU(20),e.qZA(),e.TgZ(21,"li",12),e._uU(22),e.qZA(),e.TgZ(23,"li",12),e._uU(24),e.qZA(),e.TgZ(25,"li",12),e._uU(26),e.qZA(),e.TgZ(27,"li",12),e._uU(28),e.qZA(),e.TgZ(29,"li",12),e._uU(30),e.qZA(),e.TgZ(31,"li",12),e._uU(32),e.qZA(),e.TgZ(33,"li",12),e._uU(34),e.qZA(),e.TgZ(35,"li",12),e._uU(36),e.qZA(),e.TgZ(37,"li",12),e._uU(38),e.qZA(),e.TgZ(39,"li",12),e._uU(40),e.qZA(),e.TgZ(41,"li",12),e._uU(42),e.qZA(),e.TgZ(43,"li",12),e._uU(44),e.qZA(),e.TgZ(45,"li",12),e._uU(46),e.qZA()()(),e.TgZ(47,"div",8)(48,"p",4),e._uU(49,"Informations DPAE :"),e.qZA()(),e.TgZ(50,"div",10)(51,"ul",11)(52,"li",12),e._uU(53),e.qZA(),e.TgZ(54,"li",12),e._uU(55),e.qZA(),e.TgZ(56,"li",12),e._uU(57),e.qZA(),e.TgZ(58,"li",12),e._uU(59),e.qZA(),e.TgZ(60,"li",12),e._uU(61),e.qZA(),e.TgZ(62,"li",12),e._uU(63),e.qZA(),e.TgZ(64,"li",12),e._uU(65),e.qZA(),e.TgZ(66,"li",12),e._uU(67),e.qZA()()(),e.TgZ(68,"div",8)(69,"p",4),e._uU(70,"Informations DSN :"),e.qZA()(),e.TgZ(71,"div",10)(72,"ul",11)(73,"li",12),e._uU(74),e.qZA(),e.TgZ(75,"li",12),e._uU(76),e.qZA(),e.TgZ(77,"li",12),e._uU(78),e.qZA(),e.TgZ(79,"li",12),e._uU(80),e.qZA(),e.TgZ(81,"li",12),e._uU(82),e.qZA(),e.TgZ(83,"li",12),e._uU(84),e.qZA(),e.TgZ(85,"li",12),e._uU(86),e.qZA(),e.TgZ(87,"li",12),e._uU(88),e.qZA(),e.TgZ(89,"li",12),e._uU(90),e.qZA(),e.TgZ(91,"li",12),e._uU(92),e.qZA(),e.TgZ(93,"li",12),e._uU(94),e.qZA(),e.TgZ(95,"li",12),e._uU(96),e.qZA(),e.TgZ(97,"li",12),e._uU(98),e.qZA()()(),e.TgZ(99,"div",8)(100,"p",4),e._uU(101,"Informations OBP7 :"),e.qZA()(),e.TgZ(102,"div",10)(103,"ul",11)(104,"li",12),e._uU(105),e.qZA(),e.TgZ(106,"li",12),e._uU(107),e.qZA(),e.TgZ(108,"li",12),e._uU(109),e.qZA()()(),e.TgZ(110,"div",8)(111,"p",4),e._uU(112,"Informations CAAE :"),e.qZA()(),e.TgZ(113,"div",10)(114,"ul",11)(115,"li",12),e._uU(116),e.qZA(),e.TgZ(117,"li",12),e._uU(118),e.qZA(),e.TgZ(119,"li",12),e._uU(120),e.qZA()()(),e.TgZ(121,"div",8)(122,"p",4),e._uU(123,"Informations OPC :"),e.qZA()(),e.TgZ(124,"div",10)(125,"ul",11)(126,"li",12),e._uU(127),e.qZA(),e.TgZ(128,"li",12),e._uU(129),e.qZA(),e.TgZ(130,"li",12),e._uU(131),e.qZA(),e.TgZ(132,"li",12),e._uU(133),e.qZA(),e.TgZ(134,"li",12),e._uU(135),e.qZA(),e.TgZ(136,"li",12),e._uU(137),e.qZA(),e.TgZ(138,"li",12),e._uU(139),e.qZA(),e.TgZ(140,"li",12),e._uU(141),e.qZA()()()()()),2&n){const t=e.oxw();e.xp6(8),e.hij(" Siren : ",t.individu.infos.rei_siren," "),e.xp6(2),e.hij(" Denomination : ",t.individu.infos.rei_denomination," "),e.xp6(2),e.hij(" Code Naf : 4399C - ",t.individu.infos.rei_code_naf," "),e.xp6(2),e.hij(" Date de cr\xe9ation : ",t.individu.infos.rei_dt_creation," "),e.xp6(2),e.hij(" Date de d\xe9but d'activit\xe9 : ",t.individu.infos.rei_dt_debut," "),e.xp6(2),e.hij(" Libelle de voie : ",t.individu.infos.rei_voie," "),e.xp6(2),e.hij(" Siret : ",t.individu.infos.rei_siret," "),e.xp6(2),e.hij(" Urssaf comp\xe9tente : ",t.individu.infos.rei_urssaf," "),e.xp6(2),e.hij(" Code Postal : ",t.individu.infos.rei_cp," "),e.xp6(2),e.hij(" Code Postal Insee : ",t.individu.infos.rei_cp_insee," "),e.xp6(2),e.hij(" Libell\xe9 commune : ",t.individu.infos.rei_comune," "),e.xp6(2),e.hij(" Date de fin d'activit\xe9 : ",t.individu.infos.rei_dt_fin," "),e.xp6(2),e.hij(" Qualit\xe9 Dirigeant : ",t.individu.infos.rei_qualite_dir," "),e.xp6(2),e.hij(" Nom patronymique : ",t.individu.infos.rei_nom," "),e.xp6(2),e.hij(" Pr\xe9noms patronymiques : ",t.individu.infos.rei_prenom," "),e.xp6(2),e.hij(" Date de naissance : ",t.individu.infos.rei_dt_naiss," "),e.xp6(2),e.hij(" Lieu de naissance : ",t.individu.infos.rei_lieu_naiss," "),e.xp6(2),e.hij(" Titre : ",t.individu.infos.rei_titre," "),e.xp6(2),e.hij(" Titre : ",t.individu.infos.rei_num_cext," "),e.xp6(2),e.hij(" Titre : ",t.individu.infos.rei_num_cint," "),e.xp6(7),e.hij(" Siret : ",t.individu.infos.dpae_siret," "),e.xp6(2),e.hij(" Nom : ",t.individu.infos.dpae_nom," "),e.xp6(2),e.hij(" Pr\xe9nom : ",t.individu.infos.dpae_prenom," "),e.xp6(2),e.hij(" Date de naissance : ",t.individu.infos.dpae_dt_naiss," "),e.xp6(2),e.hij(" Date d'embauche : ",t.individu.infos.dpae_dt_emb," "),e.xp6(2),e.hij(" Heure d'embauche : ",t.individu.infos.dpae_hr_emb," "),e.xp6(2),e.hij(" Date de d\xe9claration : ",t.individu.infos.dpae_dt_decl," "),e.xp6(2),e.hij(" Heure de d\xe9claration : ",t.individu.infos.dpae_hr_decl," "),e.xp6(7),e.hij(" Adresse de domicile : ",t.individu.infos.dsn_adresse," "),e.xp6(2),e.hij(" Activit\xe9 : ",t.individu.infos.dsn_activite," "),e.xp6(2),e.hij(" Type de contrat : ",t.individu.infos.dsn_contrat," "),e.xp6(2),e.hij(" Date d'embauche : ",t.individu.infos.dsn_dt_emb," "),e.xp6(2),e.hij(" Dur\xe9e du travail : ",t.individu.infos.dsn_duree," "),e.xp6(2),e.hij(" Salaire brut : ",t.individu.infos.dsn_s_brut," "),e.xp6(2),e.hij(" Dernier mois ou dernier trimestre de d\xe9claration : ",t.individu.infos.dsn_dernier_mois," "),e.xp6(2),e.hij(" Total ( salaires bruts - bases assujetties et remunerations) : ",t.individu.infos.dsn_total," "),e.xp6(2),e.hij(" Nom : ",t.individu.infos.dsn_nom," "),e.xp6(2),e.hij(" Pr\xe9nom : ",t.individu.infos.dsn_prenom," "),e.xp6(2),e.hij(" Date de naissance : ",t.individu.infos.dsn_dt_naiss," "),e.xp6(2),e.hij(" Debut de contrat : ",t.individu.infos.dsn_debut_contrat," "),e.xp6(2),e.hij(" NIR : ",t.individu.infos.dsn_nir," "),e.xp6(7),e.hij(" N\xb0 de compte : ",t.individu.infos.obp7_num_compte," "),e.xp6(2),e.hij(" Taxation d'office : ",t.individu.infos.obp7_to," "),e.xp6(2),e.hij(" P\xe9riode concern\xe9e : ",t.individu.infos.obp7_periode," "),e.xp6(7),e.hij(" N\xb0 de compte : ",t.individu.infos.caae_num_compte," "),e.xp6(2),e.hij(" P\xe9riodes : ",t.individu.infos.caae_periodes," "),e.xp6(2),e.hij(" Chiffres d'affaires sur ces p\xe9riodes : ",t.individu.infos.caae_ca," "),e.xp6(7),e.hij(" N\xb0intervention : ",t.individu.infos.opc_num_intervention," "),e.xp6(2),e.hij(" Date cr\xe9ation : ",t.individu.infos.opc_dt_creation," "),e.xp6(2),e.hij(" R\xe9alisateur principal : ",t.individu.infos.opc_realisateur," "),e.xp6(2),e.hij(" Action : ",t.individu.infos.opc_action," "),e.xp6(2),e.hij(" Pilote du contr\xf4le : ",t.individu.infos.opc_pilote," "),e.xp6(2),e.hij(" D\xe9l\xe9gu\xe9 : ",t.individu.infos.opc_delegue," "),e.xp6(2),e.hij(" \xc9tat : ",t.individu.infos.opc_etat," "),e.xp6(2),e.hij(" Date \xe9tat : ",t.individu.infos.opc_dt_etat," ")}}let T=(()=>{class n{constructor(t){this.dataService=t}revenirArriere(){}ngOnInit(){this.individu=this.dataService.getIndividu()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-informations"]],decls:10,vars:2,consts:[[1,"d-flex","flex-row","mb-3","align-items-center","justify-content-between"],[1,"align-self-center","me-2",2,"color","#122F62","font-weight","bold",3,"click"],["src","../assets/fleche.svg","alt","","width","18","height","18","display","flex"],[1,"ms-2"],[1,"h3"],[1,"h3","text-center","mx-5"],["class","container","id","dataControle",4,"ngIf"],["id","dataControle",1,"container"],[1,"d-flex","justify-content-center"],[1,"h5","my-3",2,"color","#1D458C"],[1,"d-flex","flex-column"],[1,"list-group","list-group-flush"],[1,"list-group-item"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"a",1),e.NdJ("click",function(){return o.revenirArriere()}),e._UZ(2,"img",2),e.TgZ(3,"U",3),e._uU(4,"Revenir en arri\xe8re"),e.qZA()(),e.TgZ(5,"p",4),e._uU(6," Consultation des informations "),e.qZA(),e._UZ(7,"span",5),e.qZA(),e.YNc(8,N,4,0,"div",6),e.YNc(9,b,142,55,"div",6)),2&t&&(e.xp6(8),e.Q6J("ngIf",!o.individu.infos.retour_systeme),e.xp6(1),e.Q6J("ngIf",o.individu.infos.retour_systeme))},directives:[h.O5],encapsulation:2}),n})(),x=(()=>{class n{constructor(){}enregistrerNotes(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-nav-outils"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},directives:[m.lC],styles:["li[_ngcontent-%COMP%]{cursor:pointer}"]}),n})();var r=a(2382),f=a(9026),p=a(9530),_=a(2914),Z=a(9010);function y(n,l){if(1&n&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.nom)}}let A=(()=>{class n{constructor(t,o,i,s,u,c,d){this.outilsService=t,this.modalService=o,this.fb=i,this.router=s,this.dataService=u,this.entrepriseService=c,this.controleService=d,this.allNotes=[],this.allNoms=[],this.note={heure:"",note:"",type:"",id:"",titre:"",nom:""},this.mesNoms=[],this.monFormulaire=this.fb.group({titre_note:["",[r.kI.required]],note:["",[r.kI.required]],nom:["",[r.kI.required]],heure:["",[r.kI.required]]})}changeNom(){console.log("changeNom called"),console.log(this.monFormulaire.controls.nom.value),this.note.id=this.monFormulaire.controls.nom.value,this.allNoms.forEach(t=>{if(t.id==this.monFormulaire.controls.nom.value){this.note.nom=t.nom;const i=this.note.nom.split(" - ");this.note.type=i[0]}})}createNoteById(t){console.log("CreateNoteByID called",t),"evenement"==t.type?this.outilsService.getControleById(t.id).subscribe(o=>{o.notesCont.push(t),console.log("edited controle with note",o),this.outilsService.editerControle(o).subscribe(i=>{console.log("controle enregistr\xe9",i),this.controleService.setControle(i),this.modalService.close("succes")})}):"entreprise"==t.type?this.outilsService.getEntrepriseById(t.id).subscribe(o=>{o.notes_outils.push(t),console.log("edited Ent with note",o),this.outilsService.editerEntreprise(o).subscribe(i=>{console.log("Entreprise enregistr\xe9",i),this.entrepriseService.setEntreprise(i),this.modalService.close("succes")})}):"individu"==t.type&&(console.log("tESTS 1ST IF INDIVIDU"),this.outilsService.getIndividuById(t.id).subscribe(o=>{o.notesInd.push(t),console.log("edited Ind with note",o),this.outilsService.editerIndividu(o).subscribe(i=>{console.log("ind enregistr\xe9",i),this.dataService.setIndividu(i),this.modalService.close("succes")})}))}enregistrer(){console.log("enregistrer called"),this.note.heure=this.obtenirHeure(new Date),this.createNoteById(this.note)}efffacerNote(){this.monFormulaire.controls.note.setValue(""),this.changeVal()}changeVal(){this.note.titre=this.monFormulaire.value.titre_note,this.note.note=this.monFormulaire.value.note}obtenirHeure(t){return[[t.getHours().toString().padStart(2,"0"),t.getMinutes().toString().padStart(2,"0")].join(":"),[t.getDate().toString().padStart(2,"0"),(t.getMonth()+1).toString().padStart(2,"0"),t.getFullYear()].join("-")].join(" ")}ngOnInit(){if(this.allNotes=this.outilsService.getAllNotes(),this.allNoms=this.outilsService.getAllNoms(),this.outilsService.getNewNote()){if(console.log("Init route",this.outilsService.getRoute()),console.log("OnInit modale new Type",this.outilsService.getType()),"evenement"==this.outilsService.getType()){let t;console.log("assignation contrl"),t=this.outilsService.getControle(),this.note.id=t.id,this.note.type="evenement",this.note.nom=this.note.type.concat(" - ",t.nomControle),this.monFormulaire.controls.nom.setValue(this.note.nom)}else if("entreprise"==this.outilsService.getType()){let t;console.log("assignation ent"),t=this.outilsService.getEntreprise(),this.note.id=t.id,this.note.type="entreprise",this.note.nom=this.note.type.concat(" - ",t.denomination),this.monFormulaire.controls.nom.setValue(this.note.nom)}else if("individu"==this.outilsService.getType()){let t;console.log("assignation ind"),console.log(this.outilsService.getIndividu()),t=this.outilsService.getIndividu(),console.log("id",t.id),this.note.id=t.id.toString(),this.note.type="individu",this.note.nom=this.note.type.concat(" - ",t.nom.concat(" ",t.prenom)),this.monFormulaire.controls.nom.setValue(this.note.nom)}}else if("evenement"==this.outilsService.getType()){let t;t=this.outilsService.getControle(),this.monFormulaire.controls.nom.setValue(t.etat),this.note.id=t.id,this.note.type="evenement"}else if("entreprise"==this.outilsService.getType()){let t;t=this.outilsService.getEntreprise(),this.monFormulaire.controls.nom.setValue(t.denomination),this.note.id=t.id,this.note.type="evenement"}else if("individu"==this.outilsService.getType()){let t;console.log(this.outilsService.getIndividu()),t=this.outilsService.getIndividu(),console.log("id",t.id),this.monFormulaire.controls.nom.setValue(t.nom.concat(" ",t.prenom)),this.note.id=t.id.toString(),this.note.type="evenement"}console.log("url router",this.router.url)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.x),e.Y36(p.Kz),e.Y36(r.qu),e.Y36(m.F0),e.Y36(g.D),e.Y36(_.H),e.Y36(Z.G))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-new-note"]],decls:35,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["autocomplete","off",1,"row","g-1",3,"formGroup"],[1,"h5","col-lg-5","mt-4","mb-2","px-4","text-end",2,"color","#1D458C"],["for","floatingInputnom"],[1,"col-lg-7","mt-4","mb-2","px-4",2,"font-weight","bold"],[1,"col-lg-12","mt-4","mb-2","px-4"],[1,"form-floating"],["formControlName","nom","id","floatingInputnom",1,"form-select",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-lg-12","my-2","px-4"],["type","text","formControlName","titre_note","id","floatingInputtitre","placeholder","Titre de ma note",1,"form-control",3,"change"],["for","floatingInputtitre"],[1,"col-lg-12","mt-2","px-4"],["placeholder","\xc9crivez vos annotations ici","rows","5","formControlName","note",1,"form-control","mb-4",2,"border","1px solid #7AEEF4 !important",3,"change"],[1,"d-flex","flex-row"],[1,"col-lg","mb-4"],[1,"d-grid"],["type","button",1,"btn","btn-outline-danger","ms-4","me-2",3,"click"],["type","button",1,"btn","btn-info","ms-2","me-4",3,"click"],["src","../assets/enregistrer.svg","alt","","width","20","height","20","display","flex",1,"me-2"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2," Prise de notes "),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return o.modalService.dismiss("Cross click")}),e.qZA()(),e.TgZ(4,"form",3)(5,"div",4)(6,"label",5),e._uU(7,"Nouvelle note pour :"),e.qZA()(),e.TgZ(8,"div",6)(9,"label",5),e._uU(10),e.qZA()(),e.TgZ(11,"div",7)(12,"div",8)(13,"select",9),e.NdJ("change",function(){return o.changeNom()}),e._UZ(14,"option",10),e.YNc(15,y,2,2,"option",11),e.qZA(),e.TgZ(16,"label",5),e._uU(17,"Modifier l'affectation de la note ? "),e.qZA()()(),e.TgZ(18,"div",12)(19,"div",8)(20,"input",13),e.NdJ("change",function(){return o.changeVal()}),e.qZA(),e.TgZ(21,"label",14),e._uU(22,"Titre de ma note"),e.qZA()()(),e.TgZ(23,"div",15)(24,"textarea",16),e.NdJ("change",function(){return o.changeVal()}),e.qZA()(),e.TgZ(25,"div",17)(26,"div",18)(27,"div",19)(28,"button",20),e.NdJ("click",function(){return o.efffacerNote()}),e._uU(29," Effacer la note "),e.qZA()()(),e.TgZ(30,"div",18)(31,"div",19)(32,"button",21),e.NdJ("click",function(){return o.enregistrer()}),e._UZ(33,"img",22),e._uU(34," Enregistrer "),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("formGroup",o.monFormulaire),e.xp6(6),e.Oqu(o.note.nom),e.xp6(5),e.Q6J("ngForOf",o.allNoms))},directives:[r._Y,r.JL,r.sg,r.EJ,r.JJ,r.u,r.YN,r.Kr,h.sg,r.Fj],encapsulation:2}),n})(),q=(()=>{class n{constructor(t,o,i,s){this.outilsService=t,this.modalService=o,this.fb=i,this.router=s,this.allNotes=[],this.allNoms=[],this.noteOriginal={heure:"",note:"",type:"",id:"",titre:"",nom:""},this.note={heure:"",note:"",type:"",id:"",titre:"",nom:""},this.mesNoms=[],this.monFormulaire=this.fb.group({titre_note:["",[r.kI.required]],note:["",[r.kI.required]],nom:["",[r.kI.required]],heure:["",[r.kI.required]]})}changeNom(){}enregistrer(){console.log("enregistrer called"),"evenement"==this.note.type?(this.outilsService.getControleById(this.note.id).subscribe(t=>{console.log("cont obtenue by id : ",t);let o=0;t.notesCont.forEach(i=>{this.noteOriginal.note==i.note&&(console.log("success ",i),t.notesCont[o]=this.note,this.outilsService.editerControle(t).subscribe(s=>{console.log("controle enregistr\xe9",s),this.modalService.close("succes")})),o+=1})}),this.modalService.close("succes")):"entreprise"==this.note.type?(this.outilsService.getEntrepriseById(this.note.id).subscribe(t=>{let o=0;t.notes_outils.forEach(i=>{this.noteOriginal.note==i.note&&(console.log("success ",i),t.notes_outils[o]=this.note,this.outilsService.editerEntreprise(t).subscribe(s=>{console.log("entreprise enregistr\xe9",s),this.modalService.close("succes")})),o+=1})}),this.modalService.close("succes")):"individu"==this.note.type&&(this.outilsService.getIndividuById(this.note.id).subscribe(t=>{let o=0;t.notesInd.forEach(i=>{this.noteOriginal.note==i.note&&(console.log("success ",i),t.notesInd[o]=this.note,this.outilsService.editerIndividu(t).subscribe(s=>{console.log("INDIVIDU enregistr\xe9",s),this.modalService.close("succes")})),o+=1})}),this.modalService.close("succes"))}efffacerNote(){this.monFormulaire.controls.note.setValue(""),this.changeVal()}changeVal(){this.note.titre=this.monFormulaire.value.titre_note,this.note.note=this.monFormulaire.value.note,this.note.nom=this.note.type.concat(" - ",this.note.titre),this.monFormulaire.controls.nom.setValue(this.note.nom)}obtenirHeure(t){return[[t.getHours().toString().padStart(2,"0"),t.getMinutes().toString().padStart(2,"0")].join(":"),[t.getDate().toString().padStart(2,"0"),(t.getMonth()+1).toString().padStart(2,"0"),t.getFullYear()].join("-")].join(" ")}ngOnInit(){if(this.allNotes=this.outilsService.getAllNotes(),this.allNoms=this.outilsService.getAllNoms(),this.noteOriginal=this.outilsService.getNoteOriginal(),"evenement"==this.outilsService.getType()){let t;t=this.outilsService.getControle(),this.monFormulaire.controls.nom.setValue("evenement".concat(" - ",t.dt_controle)),this.monFormulaire.controls.titre_note.setValue(this.noteOriginal.titre),this.monFormulaire.controls.note.setValue(this.noteOriginal.note),this.note.id=t.id,this.note.type="evenement",this.note.nom=this.noteOriginal.nom,this.note.note=this.noteOriginal.note,this.note.titre=this.noteOriginal.titre,this.note.heure=this.noteOriginal.heure}else if("entreprise"==this.outilsService.getType()){let t;t=this.outilsService.getEntreprise(),this.monFormulaire.controls.nom.setValue("entreprise".concat(" - ",t.denomination)),this.monFormulaire.controls.titre_note.setValue(this.noteOriginal.titre),this.monFormulaire.controls.note.setValue(this.noteOriginal.note),this.note.id=t.id,this.note.type="entreprise",this.note.nom=this.noteOriginal.nom,this.note.note=this.noteOriginal.note,this.note.titre=this.noteOriginal.titre,this.note.heure=this.noteOriginal.heure}else if("individu"==this.outilsService.getType()){let t;console.log("individu dans le servide outils",this.outilsService.getIndividu()),t=this.outilsService.getIndividu(),console.log("id",t.id),this.monFormulaire.controls.nom.setValue("individu".concat(" - ",t.nom," ",t.prenom)),this.monFormulaire.controls.titre_note.setValue(this.noteOriginal.titre),this.monFormulaire.controls.note.setValue(this.noteOriginal.note),this.note.id=t.id.toString(),this.note.type="individu",this.note.nom=this.noteOriginal.nom,this.note.note=this.noteOriginal.note,this.note.titre=this.noteOriginal.titre,this.note.heure=this.noteOriginal.heure}else console.log("Acc\xe8s en dehors de une reference valide"),this.monFormulaire.controls.nom.setValue(this.noteOriginal.nom),this.monFormulaire.controls.titre_note.setValue(this.noteOriginal.titre),this.monFormulaire.controls.note.setValue(this.noteOriginal.note),this.note.id=this.noteOriginal.id,this.note.type=this.noteOriginal.type,this.note.nom=this.noteOriginal.nom,this.note.note=this.noteOriginal.note,this.note.titre=this.noteOriginal.titre,this.note.heure=this.noteOriginal.heure;console.log("url router",this.router.url)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.x),e.Y36(p.Kz),e.Y36(r.qu),e.Y36(m.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-note"]],decls:30,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["autocomplete","off",1,"row","g-1",3,"formGroup"],[1,"h5","col-lg-5","mt-4","mb-2","px-4","text-end",2,"color","#1D458C"],["for","floatingInputnom"],[1,"col-lg-7","mt-4","mb-2","px-4",2,"font-weight","bold"],[1,"col-lg-12","my-2","px-4"],[1,"form-floating"],["type","text","formControlName","titre_note","id","floatingInputtitre","placeholder","Titre de ma note",1,"form-control",3,"change"],["for","floatingInputtitre"],[1,"col-lg-12","mt-2","px-4"],["placeholder","\xc9crivez vos annotations ici","rows","5","formControlName","note",1,"form-control","mb-4",2,"border","1px solid #7AEEF4 !important",3,"change"],[1,"d-flex","flex-row"],[1,"col-lg","mb-4"],[1,"d-grid"],["type","button",1,"btn","btn-outline-danger","ms-4","me-2",3,"click"],["type","button",1,"btn","btn-info","ms-2","me-4",3,"click"],["src","../assets/enregistrer.svg","alt","","width","20","height","20","display","flex",1,"me-2"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2," Prise de notes "),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return o.modalService.close("Cross click")}),e.TgZ(4,"span",3),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"form",4)(7,"div",5)(8,"label",6),e._uU(9,"R\xe9f\xe9rence note : "),e.qZA()(),e.TgZ(10,"div",7)(11,"label",6),e._uU(12),e.qZA()(),e.TgZ(13,"div",8)(14,"div",9)(15,"input",10),e.NdJ("change",function(){return o.changeVal()}),e.qZA(),e.TgZ(16,"label",11),e._uU(17,"Titre de ma note"),e.qZA()()(),e.TgZ(18,"div",12)(19,"textarea",13),e.NdJ("change",function(){return o.changeVal()}),e.qZA()(),e.TgZ(20,"div",14)(21,"div",15)(22,"div",16)(23,"button",17),e.NdJ("click",function(){return o.efffacerNote()}),e._uU(24," Effacer la note "),e.qZA()()(),e.TgZ(25,"div",15)(26,"div",16)(27,"button",18),e.NdJ("click",function(){return o.enregistrer()}),e._UZ(28,"img",19),e._uU(29," Enregistrer "),e.qZA()()()()()),2&t&&(e.xp6(6),e.Q6J("formGroup",o.monFormulaire),e.xp6(6),e.Oqu(o.note.nom))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u],encapsulation:2}),n})(),S=(()=>{class n{constructor(t){this.activeModal=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.Kz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-delete-note"]],decls:26,vars:0,consts:[[1,"container-fluid","px-0","pb-0",2,"background-color","#FFF4D2"],[1,"modal-header","d-flex","justify-content-end"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"d-flex","flex-column"],[1,"d-flex","flex-row","justify-content-center"],[1,"d-flex","my-3"],["src","../assets/alert.svg","alt","","width","60","height","60","display","flex"],[1,"d-flex","flex-row","justify-content-center","mt-2"],[1,"d-flex"],[1,"h4","mb-3",2,"color","black","text-align","center"],[1,"d-flex","flex-row","justify-content-center","my-4"],[1,"d-flex","p-4"],[1,"col"],[1,"d-grid","mx-2"],["type","button",1,"btn","btn-outline-info",2,"background","white",3,"click"],["type","button",1,"btn","btn-info",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return o.activeModal.dismiss("Cross click")}),e.TgZ(3,"span",3),e._uU(4,"\xd7"),e.qZA()()(),e.TgZ(5,"div",4)(6,"div",5)(7,"div",6),e._UZ(8,"img",7),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9)(11,"p",10),e._uU(12," Attention, vous allez supprimer cette note de fa\xe7on permanente. "),e.qZA()()(),e.TgZ(13,"div",11)(14,"div",9)(15,"p",10),e._uU(16," Voulez-vous vraiment continuer ? "),e.qZA()()()(),e.TgZ(17,"div",12)(18,"div",13)(19,"div",14)(20,"button",15),e.NdJ("click",function(){return o.activeModal.close("non")}),e._uU(21," Non, annuler"),e.qZA()()(),e.TgZ(22,"div",13)(23,"div",14)(24,"button",16),e.NdJ("click",function(){return o.activeModal.close("oui")}),e._uU(25," Oui, continuer"),e.qZA()()()()())},encapsulation:2}),n})();function U(n,l){if(1&n&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function C(n,l){if(1&n&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function E(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",27)(1,"button",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().ouvrirModalPriseNotes(i)}),e.TgZ(2,"div",29)(3,"div",30)(4,"p",31),e._uU(5),e.qZA()()()(),e.TgZ(6,"p",32),e._uU(7),e.qZA(),e.TgZ(8,"p",33),e._uU(9),e.qZA(),e.TgZ(10,"div",34)(11,"button",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().ouvrirModalDeleteNotes(i)}),e.TgZ(12,"div",36),e._UZ(13,"img",37),e.qZA()()()()}if(2&n){const t=e.oxw().$implicit;e.xp6(5),e.Oqu(t.note),e.xp6(2),e.Oqu(t.titre),e.xp6(2),e.Oqu(t.heure)}}function I(n,l){if(1&n&&(e.TgZ(0,"div",25),e.YNc(1,E,14,3,"div",26),e.qZA()),2&n){const t=l.$implicit;e.xp6(1),e.Q6J("ngIf",t)}}const F=[{path:"",component:x,children:[{path:"notes",component:(()=>{class n{constructor(t,o,i,s,u,c,d){this.fb=t,this.router=o,this.modalService=i,this.outilsService=s,this.entrepriseService=u,this.dataService=c,this.controleService=d,this.individus=[],this.routeArriere="",this.id_note="",this.allNotes=[],this.allNoms=[],this.mesNotes=[],this.mesNoms=[],this.entreprises=[],this.controles=[],this.types=["Toutes mes notes","evenement","entreprise","individu"],this.monFormulaire=this.fb.group({type_note:["",[r.kI.required]],nom:["",[r.kI.required]]})}revenirArriere(){this.router.navigate([this.routeArriere])}ouvrirModalNouvelleNote(t){this.outilsService.setIdNote(t),this.outilsService.setNewNote(!0),this.modalService.open(A,{size:"lg"}).result.then(i=>{if(console.log("data : ",i),!i||"Cross click"!==i)return i?(console.log("SuccessVar Data :",i),void this.chargerNotes()):void 0;console.log("Obtained Data :",i)})}ouvrirModalPriseNotes(t){this.outilsService.setNoteOriginal(t),this.outilsService.setNewNote(!1),this.modalService.open(q,{size:"lg"}).result.then(i=>{if(console.log("data : ",i),!i||"Cross click"!==i)return i?(console.log("SuccessVar Data :",i),void this.chargerNotes()):void 0;console.log("Obtained Data :",i)})}ouvrirModalDeleteNotes(t){this.outilsService.setNoteOriginal(t),this.outilsService.setNewNote(!1),this.modalService.open(S,{size:"lg"}).result.then(i=>{if(console.log("data : ",i),!i||"Cross click"!==i)return"non"==i?(console.log("Result non"),void this.chargerNotes()):"oui"==i?(console.log("enregistrer called"),"evenement"==t.type&&this.outilsService.getControleById(t.id).subscribe(s=>{console.log("cont obtenue by id : ",s);let u=0;s.notesCont.forEach(c=>{t.note==c.note&&(console.log("success ",c),s.notesCont.splice(u,1),console.log("Deleted note",s),this.outilsService.editerControle(s).subscribe(d=>{console.log("controle enregistr\xe9",d),this.chargerNotes()})),u+=1})}),"entreprise"==t.type&&this.outilsService.getEntrepriseById(t.id).subscribe(s=>{console.log("ent obtenue by id : ",s);let u=0;s.notes_outils.forEach(c=>{t.note==c.note&&(console.log("success ",c),s.notes_outils.splice(u,1),console.log("Deleted note",s),this.outilsService.editerEntreprise(s).subscribe(d=>{console.log("controle enregistr\xe9",d),this.chargerNotes()})),u+=1})}),void("individu"==t.type&&this.outilsService.getIndividuById(t.id).subscribe(s=>{console.log("cont obtenue by id : ",s);let u=0;s.notesInd.forEach(c=>{t.note==c.note&&(console.log("success ",c),s.notesInd.splice(u,1),console.log("Deleted note",s),this.outilsService.editerIndividu(s).subscribe(d=>{console.log("controle enregistr\xe9",d),this.chargerNotes()})),u+=1})}))):void 0;console.log("Obtained Data :",i)})}deleteNote(){}recupNotes(){this.allNotes=[],this.allNoms=[],this.controles.forEach(t=>{const o={id:t.id,nom:"evenement".concat(" - ",t.nomControle)};this.allNoms.push(o),console.log("Entered in controles loop"),t.notesCont&&t.notesCont.forEach(i=>{console.log("Note controle : ",i);let s={heure:"",note:"",type:"",id:"",titre:"",nom:""};s.heure=i.heure,s.note=i.note,s.type="evenement",s.id=i.id,s.titre=i.titre,s.nom=i.nom,this.allNotes.push(s)})}),this.entreprises.forEach(t=>{const o={id:t.id,nom:"entreprise".concat(" - ",t.denomination)};this.allNoms.push(o),console.log("Entered in entreprises loop"),t.notes_outils&&t.notes_outils.forEach(i=>{let s={heure:"",note:"",type:"",id:"",titre:"",nom:""};s.heure=i.heure,s.note=i.note,s.type="entreprise",s.id=t.id,s.titre=i.titre,s.nom=i.nom,this.allNotes.push(s)})}),this.individus.forEach(t=>{const o={id:t.id,nom:"individu".concat(" - ",t.nom," ",t.prenom)};this.allNoms.push(o),t.notesInd&&t.notesInd.forEach(i=>{let s={heure:"",note:"",type:"",id:"",titre:"",nom:""};s.heure=i.heure,s.note=i.note,s.type="individu",s.id=t.id,s.titre=i.titre,s.nom=i.nom,this.allNotes.push(s)})}),console.log("RecupNotes called, result : ",this.allNotes),console.log("All Noms, result : ",this.allNoms),this.outilsService.setAllNotes(this.allNotes),this.outilsService.setAllNoms(this.allNoms)}changeVal(){"Toutes mes notes"==this.monFormulaire.value.type_note?(this.monFormulaire.controls.nom.setValue(""),this.mesNotes=this.allNotes,this.mesNotes.forEach(t=>{this.mesNoms.includes(t.nom)||this.mesNoms.push(t.nom)})):(this.mesNotes=[],this.mesNoms=[],this.monFormulaire.controls.nom.setValue(""),this.allNotes.forEach(t=>{t.type==this.monFormulaire.value.type_note&&(this.mesNotes.push(t),this.mesNoms.includes(t.nom)||this.mesNoms.push(t.nom))})),console.log("changeVal",this.mesNotes),console.log("noms change val",this.mesNoms)}test(){console.log("hello")}changeNom(){if(console.log("debut changeNom",this.monFormulaire.value.nom),console.log(this.monFormulaire.controls.nom.value),""==this.monFormulaire.value.nom)this.changeVal();else{this.mesNotes=[];let t="";this.allNotes.forEach(o=>{o.nom==this.monFormulaire.value.nom&&(this.mesNotes.push(o),t=o.type)}),this.monFormulaire.controls.type_note.setValue(t)}console.log("changeNom",this.mesNotes)}findControles(){}chargerNotes(){this.controleService.getControles().subscribe(t=>{this.controles=t,console.log("controless query",this.controles),this.entrepriseService.getEntreprises().subscribe(o=>{this.entreprises=o,console.log("entreprises query: ",this.entreprises),this.dataService.getIndividus().subscribe(i=>{this.individus=i,console.log("individus query: ",this.individus),this.recupNotes(),this.monFormulaire.controls.type_note.setValue("Toutes mes notes"),this.changeVal()})})})}ngOnInit(){this.routeArriere=this.outilsService.getRoute(),console.log("controless query",this.controles),this.chargerNotes(),this.id_note=this.outilsService.getIdNote()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(m.F0),e.Y36(p.FF),e.Y36(f.x),e.Y36(_.H),e.Y36(g.D),e.Y36(Z.G))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-notes"]],decls:33,vars:4,consts:[[1,"d-flex","flex-row","mb-3","align-items-center","justify-content-between"],[1,"align-self-center","me-2",2,"color","#122F62","font-weight","bold",3,"click"],["src","../assets/fleche.svg","alt","","width","18","height","18","display","flex"],[1,"ms-2"],[1,"h3"],[1,"h3","text-center","mx-5"],["autocomplete","off",1,"row","mb-2","g-1",3,"formGroup"],[1,"d-flex","flex-row","justify-content-center","mb-2"],[1,"col-lg-6","mx-1"],[1,"form-floating"],["formControlName","type_note","id","floatingInputtype_note",1,"form-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],["for","floatingInputtype_note"],["formControlName","nom","id","floatingInputnom",1,"form-select",3,"change"],["value",""],["for","floatingInputnom"],[1,"d-flex","flex-row","flex-wrap","justify-content-center"],[1,"card","h-100","border-light","mb-3","ms-3","p-0",2,"width","12rem","height","14rem !important"],[1,"p-0",2,"border-width","0","height","100%",3,"click"],[1,"card-body","d-flex","flex-column","px-0",2,"background-color","#E0FDFF","height","100%"],[1,"d-flex","justify-content-center","mt-3",2,"height","100%"],["src","../assets/notesBleu.svg","alt","img notes-bleu","width","60","height","60"],[1,"card-text","my-1",2,"color","#0D5A5E","text-align","center","font-weight","bold"],["class","d-flex",4,"ngFor","ngForOf"],[3,"value"],[1,"d-flex"],["class","card h-100 justify-content-center mb-3 ms-3 p-0 ","style","width: 12rem; height: 14rem !important",4,"ngIf"],[1,"card","h-100","justify-content-center","mb-3","ms-3","p-0",2,"width","12rem","height","14rem !important"],[1,"btn","btn-light","p-0",2,"border-width","0","height","100%",3,"click"],[1,"card-body","d-flex","flex-column","p-0",2,"height","100%"],[1,"d-flex","justify-content-center","align-items-center",2,"border","1px solid #7AEEF4 !important","height","100%"],[1,"card-text","m-0",2,"font-size","small"],[1,"card-text","m-0",2,"color","#0D5A5E","text-align","center","font-weight","bold"],[1,"card-text","m-0",2,"color","#0D5A5E","text-align","center"],[1,"d-flex","justify-content-center"],[1,"btn","btn-lg","btn-danger","ms-1",3,"click"],[1,"text-center"],["src","../assets/poubelle.svg","alt","","width","20","height","20","display","flex"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"a",1),e.NdJ("click",function(){return o.revenirArriere()}),e._UZ(2,"img",2),e.TgZ(3,"U",3),e._uU(4,"Revenir en arri\xe8re"),e.qZA()(),e.TgZ(5,"p",4),e._uU(6," Toutes les notes "),e.qZA(),e._UZ(7,"span",5),e.qZA(),e.TgZ(8,"form",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"select",10),e.NdJ("change",function(){return o.changeVal()}),e.YNc(13,U,2,2,"option",11),e._uU(14,"> "),e.qZA(),e.TgZ(15,"label",12),e._uU(16,"Type de note"),e.qZA()()(),e.TgZ(17,"div",8)(18,"div",9)(19,"select",13),e.NdJ("change",function(){return o.changeNom()}),e._UZ(20,"option",14),e.YNc(21,C,2,2,"option",11),e.qZA(),e.TgZ(22,"label",15),e._uU(23,"Nom"),e.qZA()()()()(),e.TgZ(24,"div",16)(25,"div",17)(26,"button",18),e.NdJ("click",function(){return o.ouvrirModalNouvelleNote(o.id_note)}),e.TgZ(27,"div",19)(28,"div",20),e._UZ(29,"img",21),e.qZA(),e.TgZ(30,"p",22),e._uU(31,"PRENDRE UNE NOUVELLE NOTE"),e.qZA()()()(),e.YNc(32,I,2,1,"div",23),e.qZA()),2&t&&(e.xp6(8),e.Q6J("formGroup",o.monFormulaire),e.xp6(5),e.Q6J("ngForOf",o.types),e.xp6(8),e.Q6J("ngForOf",o.mesNoms),e.xp6(11),e.Q6J("ngForOf",o.mesNotes))},directives:[r._Y,r.JL,r.sg,r.EJ,r.JJ,r.u,h.sg,r.YN,r.Kr,h.O5],styles:[".btn-danger[_ngcontent-%COMP%] {\n        width: 32px;\n\t\theight: 32px;\n\t\tpadding: 0px;\n\t\tborder-radius: 80px;\n\t\tfont-size: 15px;\n\t\ttext-align: center;\n        background-color: #FFDDE0;\n    }\n    .card[_ngcontent-%COMP%] {\n        border: 1px solid rgb(254, 254, 254);\n    }\n    .btn-light[_ngcontent-%COMP%] {\n        background-color:white !important;\n    }\n    .btn-light[_ngcontent-%COMP%]:hover {\n        background-color: #E6E9EC !important;\n    }"]}),n})()},{path:"informations/:id",component:T},{path:"**",redirectTo:"notes"}]}];let O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.Bz.forChild(F)],m.Bz]}),n})(),j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[h.ez,O,r.UX,r.u5]]}),n})()}}]);